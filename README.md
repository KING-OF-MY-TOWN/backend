# 우리동네 최강 (King of the town)
*주변 사람들과 취미를 공유하고 순위를 알려주는 앱*
## 개요

내가 온라인 게임을 좋아하는 이유는 골드, 실버, 브론즈 처럼 눈에 보이는 티어가 있고, 랭크가 올라가는 것을 바로바로 확인 할 수 있어서였다. 좋아하던 게임이 망하면서 시간을 의미없는 일에 낭비했다고 느꼈다. 차라리 그 시간을 운동이나 취미에 사용했다면 더 많은 사람을 만나고, 사라지지 않는 내 장기가 생겼을 것이란 생각이 들었다.

내 실력이 오른것을 눈으로 볼 수 있고, 주변 취미가 같은 사람을 새로 만나고 경기할 수 있는 방법이 있으면 좋겠다고 생각했다. 이 앱은 지역기반으로 취미가 같은 사람들을 찾아주고, 그 안에서 순위를 판별해주는 역할을 할 것이다.  

## 목표 기능

- 주변의 같은 취미를 가진 사람들을 찾아준다.
- 사용자에게 자신의 동네에서 자신과 같은 취미를 가진 사람들 중 자신의 순위를 알려준다.
    - 같은 취미를 가진 사람들과 직접 만나서 경기하고 승패를 기록한다.
        - 간편하게 기록할 수 있도록 한다.
        - 어뷰징을 막는다.
    - 혼자할 수 있는 취미는 스스로 성적을 기록한다.
        - 서버/다른 유저의 승인을 통해 객관성을 확보한다.
- 경쟁 없이 같은 취미를 가진 사람과 경기할 약속을 잡을 수 있다.
- 사용자의 수에 따라 서버 크기를 조절 할 수 있도록 한다.

**Optional**
- 팀단위로 주변 사용자 추천과 순위 기록을 한다.
## 실행 흐름

1. 2인 이상의 사용자가 필요한 취미
    **경기 생성**
    - 추천
        - 추천은 자신과 실력이 비슷한사람, 거리가 가까운 사람을 고려해 추천한다.
        - 랭킹 알고리즘 구현이 필요하다. 구현 완료 전까지는 간단한 거리기반 추천 알고리즘을 사용한다.
        - 추천 받을 사용자끼리는 메시지를 주고 받을 수 있으며 일시와 장소를 정해 게임을 생성할 수 있다.
    - 일정
        - 직접 일시와 장소를 정해 게임을 생성하고 자신의 게임에 참가를 희망한 유저를 선택해 경기 할 수 있다.
    - QR코드
        - 운동하는 중 우연히 만난 사용자와 경쟁하고 싶을 때 QR코드 스캔으로 게임을 생헝할 수 있다.

    **경기 결과 등록**
    - 순위에 반영되는 경기정보 기록 (경쟁)
        - 한쪽이 승패를 기록하면 상대방에게 해당 결과가 전송된다.
            - 점수를 추가로 기록 할 수 있다.
        - 상대방은 결과를 확인 후 승인, 경기결과 수정, 비동의를 선택 할 수 있다.
            - 승인시 경기 결과가 등록된다.
            - 경기결과 수정시 상대방에게 해당 결과가 전송된다.
            - 비동의시 게임이 무효가 되고 결과가 등록되지 않는다. 비동의 사유 등록이 필요하다.
        - 경기 결과가 기록된다.
            - 승인된 경기의 경우 사용자의 순위에 반영된다.
            - 무효가 된 경기의 경우 어뷰징 점수를 높힌다.
    - 매너점수(다시 만나고 싶은 사람인지) 기록 (경쟁, 비경쟁)
        - 시간준수 정보(출석, 지각, 결석)을 등록한다. 지각 등록은 선택적이다.
            - 직접 등록할 수 있다.
            - 위치정보/휴대폰 시간으로 자동으로 등록할 수 있다.
            - 서로 등록한 정보가 다른 경우 자동으로 등록된 정보가 우선시된다.
            - 경기 태도, 포지션, 플레이스타일 등 주관적인 정보도 등록 할 수있다.
        - 상대방의 등록결과는 자신에게 보이지 않는다.
    
    **결기 결과 확인**

1. 혼자 할 수 있는 취미
    **결과 등록**
    - 취미를 마치고 결과를 등록한다.
    - 등록된 결과의 진위를 판별하는 인증이 진행된다.
    
    **경기 결과 확인**



## 개발 방법

TDD
Agile
self code review -> 나중에 팀원 들어왔을 환경을 위해 gitlab과 같은 온라인 협업 툴 사용

## 기술 스택

- Git
- Docker
- AWS EC2
- MariaDB
- JPA
- Spring Boot Kotlin
    - Spring Web
    - Spring Data JPA
    - MariaDB Driver
- Flutter: 추후 프런트 개발자가 선호하는 기술로 변경 가능

## Open Questions

기술
- 활발하게 게임이 성사되려면 동네/취미마다 몇명의 사용자를 확보해야할까?
- 서버를 확장 가능하도록 개발하는 방법 -> stateless 하게 개발하면 되는걸까..?
- 자체적으로 서버 캐시에 담아야 할 데이터가 있을까?
- 무중단으로 배포려면?
- 자바야 상속하면 되지만, 서로 다른 취미들을 다 담을 수 있는 데이터베이스 구조는 어떻게 되어야할까?

서비스
- 사용자 확보는 어떻게 해야할까? 광고, 지역 체육관 연계, 직접 뛰기?
- 수익 구조는?
- 자신의 취미가 목록에 없을 시 사용자가 등록 가능하게 해야할까?
- 취미마다 결과의 진위를 어떻게 판별핢까?
